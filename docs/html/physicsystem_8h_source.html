<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL Engine: src/systems/physicsystem.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SDL Engine
   &#160;<span id="projectnumber">0.9</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_3a0e3b82484872d02bd65d6789aeef6b.html">systems</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">physicsystem.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;gamesystem.h&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;../componentmanager.h&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;../components/components.h&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;../inputmanager.h&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="class_physic_system.html">   12</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_physic_system.html">PhysicSystem</a> : <span class="keyword">public</span> <a class="code" href="class_game_system.html">GameSystem</a> {</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="class_physic_system.html#a5d4784864af1a7fa130ef499b56d5744">PhysicSystem</a>(<a class="code" href="class_input_manager.html">InputManager</a>* inputManager, <a class="code" href="struct_movement.html">Movement</a>* playerMovement, <a class="code" href="class_component_manager.html">ComponentManager&lt;Position&gt;</a>* positionManager,</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;        <a class="code" href="class_component_manager.html">ComponentManager&lt;Sprite&gt;</a>* spriteManager, <a class="code" href="class_component_manager.html">ComponentManager&lt;Animator&gt;</a>* animatorManager, <a class="code" href="class_component_manager.html">ComponentManager&lt;Collider&gt;</a>* colliderManager,</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <a class="code" href="class_component_manager.html">ComponentManager&lt;ProjectileMovement&gt;</a>* projManager, <a class="code" href="class_component_manager.html">ComponentManager&lt;EnemyMovement&gt;</a>* enemyMovementManager);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="class_physic_system.html#a74490a0c6d562490dd7d8dad3b478772">update</a>();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_physic_system.html#a0209f37aa267ef0e0061ca2318688ff2">initGrid</a>(<span class="keywordtype">int</span> row, <span class="keywordtype">int</span> col, SDL_Point tileSize, <span class="keywordtype">int</span> tilesPerRow);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="struct_node.html">Node</a>* <a class="code" href="class_physic_system.html#aa9bcab2f9e08f75827db2245ada992ef">getCurrentNode</a>(<a class="code" href="struct_position.html">Position</a>* pos);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="struct_node.html">Node</a>* <a class="code" href="class_physic_system.html#aa9bcab2f9e08f75827db2245ada992ef">getCurrentNode</a>(SDL_Point pos);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_physic_system.html#a0a0560d537d93919b8f85efc525c07bf">   62</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_physic_system.html#a0a0560d537d93919b8f85efc525c07bf">setCameraZoom</a>(<span class="keywordtype">float</span> cameraZoomX, <span class="keywordtype">float</span> cameraZoomY) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        this-&gt;cameraZoomX = cameraZoomX;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        this-&gt;cameraZoomY = cameraZoomY;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="struct_node.html">Node</a>* nodes = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordtype">size_t</span> nodeCount = 0;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="class_input_manager.html">InputManager</a>* inputManager;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="struct_movement.html">Movement</a>* playerMovement;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="class_component_manager.html">ComponentManager&lt;Position&gt;</a>* positionManager;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="class_component_manager.html">ComponentManager&lt;Sprite&gt;</a>* spriteManager;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="class_component_manager.html">ComponentManager&lt;Animator&gt;</a>* animatorManager;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="class_component_manager.html">ComponentManager&lt;Collider&gt;</a>* colliderManager;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="class_component_manager.html">ComponentManager&lt;ProjectileMovement&gt;</a>* projManager;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="class_component_manager.html">ComponentManager&lt;EnemyMovement&gt;</a>* enemyMovementManager;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    Uint32 lastEnemyMovementTimestamp = 0;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">int</span> tileWidth=0;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keywordtype">int</span> tileHeight=0;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordtype">size_t</span> col=0;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordtype">size_t</span> row=0;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordtype">size_t</span> tilesPerRow=0;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordtype">float</span> cameraZoomX = 1.0f;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordtype">float</span> cameraZoomY = 1.0f;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordtype">void</span> handlePlayerMovement();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordtype">void</span> controlAnimationStates(<a class="code" href="struct_entity.html">Entity</a> e, <a class="code" href="struct_vector2.html">Vector2</a>* direction, <span class="keywordtype">bool</span> checkMouseInput);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">void</span> handleProjectileMovement();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">void</span> handleCollision();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordtype">void</span> calculateColliderPositions();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordtype">void</span> adjustColliderPosition(<a class="code" href="struct_collider.html">Collider</a>* collider,<a class="code" href="struct_position.html">Position</a>* position);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordtype">void</span> detectCollisions();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordtype">float</span> calculateHCost(<a class="code" href="struct_node.html">Node</a>* pos, <a class="code" href="struct_node.html">Node</a>* dest);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordtype">void</span> markNodesAsObstacles(<a class="code" href="struct_entity.html">Entity</a> e);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    std::vector&lt;Node*&gt; aStar(<a class="code" href="struct_entity.html">Entity</a> e, <a class="code" href="struct_node.html">Node</a>* start, <a class="code" href="struct_node.html">Node</a>* dest);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordtype">void</span> handleEnemyMovement();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordtype">void</span> markNodeAsObstacle(<a class="code" href="struct_node.html">Node</a>* node);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;};</div>
<div class="ttc" id="aclass_component_manager_html"><div class="ttname"><a href="class_component_manager.html">ComponentManager&lt; Position &gt;</a></div></div>
<div class="ttc" id="aclass_game_system_html"><div class="ttname"><a href="class_game_system.html">GameSystem</a></div><div class="ttdoc">Abstract base class of game systems.</div><div class="ttdef"><b>Definition:</b> gamesystem.h:5</div></div>
<div class="ttc" id="aclass_input_manager_html"><div class="ttname"><a href="class_input_manager.html">InputManager</a></div><div class="ttdoc">User Input Manager.</div><div class="ttdef"><b>Definition:</b> inputmanager.h:10</div></div>
<div class="ttc" id="aclass_physic_system_html"><div class="ttname"><a href="class_physic_system.html">PhysicSystem</a></div><div class="ttdoc">Physic System to simulate moving objects in the game world.</div><div class="ttdef"><b>Definition:</b> physicsystem.h:12</div></div>
<div class="ttc" id="aclass_physic_system_html_a0209f37aa267ef0e0061ca2318688ff2"><div class="ttname"><a href="class_physic_system.html#a0209f37aa267ef0e0061ca2318688ff2">PhysicSystem::initGrid</a></div><div class="ttdeci">void initGrid(int row, int col, SDL_Point tileSize, int tilesPerRow)</div><div class="ttdoc">Initializes the grid for the physic system.</div><div class="ttdef"><b>Definition:</b> physicsystem.cpp:42</div></div>
<div class="ttc" id="aclass_physic_system_html_a0a0560d537d93919b8f85efc525c07bf"><div class="ttname"><a href="class_physic_system.html#a0a0560d537d93919b8f85efc525c07bf">PhysicSystem::setCameraZoom</a></div><div class="ttdeci">void setCameraZoom(float cameraZoomX, float cameraZoomY)</div><div class="ttdoc">Sets the current camera zoom values.</div><div class="ttdef"><b>Definition:</b> physicsystem.h:62</div></div>
<div class="ttc" id="aclass_physic_system_html_a5d4784864af1a7fa130ef499b56d5744"><div class="ttname"><a href="class_physic_system.html#a5d4784864af1a7fa130ef499b56d5744">PhysicSystem::PhysicSystem</a></div><div class="ttdeci">PhysicSystem(InputManager *inputManager, Movement *playerMovement, ComponentManager&lt; Position &gt; *positionManager, ComponentManager&lt; Sprite &gt; *spriteManager, ComponentManager&lt; Animator &gt; *animatorManager, ComponentManager&lt; Collider &gt; *colliderManager, ComponentManager&lt; ProjectileMovement &gt; *projManager, ComponentManager&lt; EnemyMovement &gt; *enemyMovementManager)</div><div class="ttdoc">Constructor of physic system to set needed references.</div><div class="ttdef"><b>Definition:</b> physicsystem.cpp:12</div></div>
<div class="ttc" id="aclass_physic_system_html_a74490a0c6d562490dd7d8dad3b478772"><div class="ttname"><a href="class_physic_system.html#a74490a0c6d562490dd7d8dad3b478772">PhysicSystem::update</a></div><div class="ttdeci">virtual void update()</div><div class="ttdoc">Physic system update loop.</div><div class="ttdef"><b>Definition:</b> physicsystem.cpp:28</div></div>
<div class="ttc" id="aclass_physic_system_html_aa9bcab2f9e08f75827db2245ada992ef"><div class="ttname"><a href="class_physic_system.html#aa9bcab2f9e08f75827db2245ada992ef">PhysicSystem::getCurrentNode</a></div><div class="ttdeci">Node * getCurrentNode(Position *pos)</div><div class="ttdoc">Gets the current Node based on the position.</div><div class="ttdef"><b>Definition:</b> physicsystem.cpp:626</div></div>
<div class="ttc" id="astruct_collider_html"><div class="ttname"><a href="struct_collider.html">Collider</a></div><div class="ttdoc">Collider component. A collider is needed for collision between entities in the gameworld.</div><div class="ttdef"><b>Definition:</b> collider.h:8</div></div>
<div class="ttc" id="astruct_entity_html"><div class="ttname"><a href="struct_entity.html">Entity</a></div><div class="ttdoc">Base struct to represent Entities in the game.</div><div class="ttdef"><b>Definition:</b> entity.h:6</div></div>
<div class="ttc" id="astruct_movement_html"><div class="ttname"><a href="struct_movement.html">Movement</a></div><div class="ttdoc">Component to hold the attributes involved in movement.</div><div class="ttdef"><b>Definition:</b> movement.h:6</div></div>
<div class="ttc" id="astruct_node_html"><div class="ttname"><a href="struct_node.html">Node</a></div><div class="ttdoc">Struct representing the logical position on the tilemap grid.</div><div class="ttdef"><b>Definition:</b> enemymovement.h:50</div></div>
<div class="ttc" id="astruct_position_html"><div class="ttname"><a href="struct_position.html">Position</a></div><div class="ttdoc">Component to represent the position (x-/y-position) of the entity in the game.</div><div class="ttdef"><b>Definition:</b> position.h:8</div></div>
<div class="ttc" id="astruct_vector2_html"><div class="ttname"><a href="struct_vector2.html">Vector2</a></div><div class="ttdoc">Structure to represent 2D position and vectors.</div><div class="ttdef"><b>Definition:</b> vector2.h:6</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
